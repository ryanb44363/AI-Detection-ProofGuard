<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ProofGuard – Blog</title>
    <link rel="icon" type="image/svg+xml" href="/favicon.svg?v=2" />
    <meta name="description" content="ProofGuard Blog: updates, releases, and articles on AI-content detection." />
    <style>
      :root { --bg:#f9fafb; --card:#ffffff; --border:#e5e7eb; --text:#111827; --muted:#6b7280; --blue:#2563eb; }
      * { box-sizing:border-box; }
      body { margin:0; font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, sans-serif; background:var(--bg); color:var(--text); }
      .container { max-width: 1100px; margin: 0 auto; padding: 24px 20px; }
      .app-header{height:60px;display:flex;align-items:center;justify-content:space-between;padding:0 40px;border-bottom:1px solid #edf0f2;background:#fff;position:sticky;top:0;z-index:20}
      .brand{display:flex;align-items:center;gap:10px}
      .logo-img{width:34px;height:34px;border-radius:8px;display:block}
      .brand-name{font-size:20px;font-weight:700;color:#111827;text-decoration:none}
      .muted-2{color:#7f8790}
      .nav{display:flex;gap:18px;color:#3a424a}
      .nav-link{font-size:14px;font-weight:500;color:#3a424a;text-decoration:none}
      .nav-link:hover{color:#111827}
      .nav-link.active{color:#111827;text-decoration:underline;text-underline-offset:6px}
      .actions-inline{display:flex;gap:12px;align-items:center}
      .btn-link{background:transparent;border:none;font-weight:600;cursor:pointer;color:#2d3a45;text-decoration:none}
      .btn-link:hover{color:#111827}
      .btn-ghost{background:#fff;color:#2d3a45;border:1px solid #e0e4e8;border-radius:999px;padding:8px 18px;font-weight:700;text-decoration:none}
      .btn-ghost:hover{background:#f0f4f7}
      /* Mobile nav */
      [hidden]{display:none !important}
      .mobile-toggle{display:none;background:#fff;border:1px solid #e5e7eb;border-radius:8px;padding:6px 10px;font-weight:700}
      .mobile-menu{display:none;border-top:1px solid #edf0f2;background:#fff}
      .mobile-menu a{display:block;padding:10px 16px;color:#3a424a;text-decoration:none;border-bottom:1px solid #f1f5f9}
      .mobile-menu a:hover{background:#f8fafc;color:#111827}
      @media (max-width: 720px){ .nav, .actions-inline { display:none } .mobile-toggle{display:block} .mobile-menu{display:block} }

      /* Blog layout */
      .page-title{margin:0 0 8px 0; font-size:28px;}
      .muted{ color: var(--muted); }
  .posts{ display:grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap:16px; }
  .card{ background:#fff; border:1px solid var(--border); border-radius:14px; overflow:hidden; box-shadow:0 6px 14px rgba(0,0,0,.04); display:flex; flex-direction:column; }
  .thumb{ width:100%; height:170px; background:#e5e7eb; display:block; object-fit:cover; }
  .card .body{ padding:12px; }
  .card h2{ margin:0 0 6px 0; font-size:18px; line-height:1.3; }
  .card p{ margin:0; color:#374151; font-size:14px; }
  .meta{ color:#6b7280; font-size:13px; margin:6px 0 8px; display:flex; gap:8px; flex-wrap:wrap; }
  .chip{ display:inline-block; border:1px solid var(--border); padding:2px 8px; border-radius:999px; background:#f8fafc; color:#0f172a; }
      @media (max-width: 900px){ .posts{ grid-template-columns: 1fr; } }

      /* Global footer */
      .site-footer{background:#fff;border-top:1px solid #edf0f2;margin-top:24px}
      .foot-wrap{max-width:1100px;margin:0 auto;padding:20px}
      .foot-brand{display:flex;gap:12px;align-items:center;margin-bottom:12px}
      .foot-brand .logo-img{width:28px;height:28px}
      .fb-name{font-weight:800;font-size:16px}
      .fb-tag{font-size:12px;color:#6b7280}
      .foot-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:10px;margin:12px 0}
      .foot-title{font-size:12px;font-weight:800;color:#374151;text-transform:uppercase;letter-spacing:.06em;margin-bottom:6px}
      .foot-link{display:block;color:#3a424a;font-size:13px;margin:4px 0;text-decoration:none}
      .foot-link:hover{color:#111827;text-decoration:underline}
      .foot-bar{display:flex;align-items:center;justify-content:space-between;padding-top:10px;border-top:1px solid #edf0f2;font-size:12px;color:#6b7280}
      @media (max-width:720px){.foot-grid{grid-template-columns:1fr 1fr}.foot-bar{flex-direction:column;align-items:flex-start;gap:8px}}
    </style>
  </head>
  <body>
    <header class="app-header">
      <div class="brand">
        <img src="/favicon.svg?v=2" alt="ProofGuard logo" class="logo-img" />
        <a href="/" class="brand-name">Proof<span class="muted-2">Guard</span></a>
      </div>
      <nav class="nav">
        <a href="/" class="nav-link">Home</a>
        <a href="/uploads.html" class="nav-link">Uploads</a>
        <a href="/api.html" class="nav-link">API</a>
        <a href="/plugins.html" class="nav-link">Plugins</a>
        <a href="/pricing.html" class="nav-link">Pricing</a>
        <a href="/docs.html" class="nav-link">Docs</a>
        <a href="/blog.html" class="nav-link active">Blog</a>
      </nav>
      <div class="actions-inline">
        <a href="/signup.html" class="btn-link">Log in</a>
        <a href="/signup.html" class="btn-ghost">Sign up</a>
      </div>
      <button id="mobile-menu-button" class="mobile-toggle" aria-controls="mobile-menu" aria-expanded="false">Menu</button>
    </header>
    <nav id="mobile-menu" class="mobile-menu" hidden>
      <a href="/">Home</a>
      <a href="/uploads.html">Uploads</a>
      <a href="/api.html">API</a>
      <a href="/plugins.html">Plugins</a>
      <a href="/pricing.html">Pricing</a>
      <a href="/docs.html">Docs</a>
      <a href="/blog.html">Blog</a>
      <a href="/signup.html">Log in</a>
      <a href="/signup.html">Sign up</a>
    </nav>

    <main class="container">
      <h1 class="page-title">Blog</h1>
      <p class="muted" style="margin-top:0">Browse our long-form guides and updates. Use search to filter. Items per page: 20.</p>

      <div style="margin:12px 0; display:flex; gap:10px; align-items:center; flex-wrap:wrap">
        <input id="search" type="search" placeholder="Search guides…" aria-label="Search blog posts" style="flex:1; min-width:220px; padding:10px 12px; border:1px solid #e5e7eb; border-radius:10px" />
        <select id="category" aria-label="Filter by category" style="padding:10px 12px; border:1px solid #e5e7eb; border-radius:10px">
          <option value="">All categories</option>
        </select>
      </div>

      <section id="results" class="posts" aria-live="polite" aria-label="Search results"></section>
      <div id="pagination" style="display:flex; align-items:center; justify-content:space-between; margin:14px 0">
        <button id="prev" disabled style="padding:8px 12px; border:1px solid #e5e7eb; border-radius:8px; background:#fff">Prev</button>
        <div id="page-info" class="muted">Page 1 of 1</div>
        <button id="next" disabled style="padding:8px 12px; border:1px solid #e5e7eb; border-radius:8px; background:#fff">Next</button>
      </div>
    </main>

    <footer class="site-footer">
      <div class="foot-wrap">
        <div class="foot-brand">
          <img src="/favicon.svg?v=2" alt="ProofGuard" class="logo-img"/>
          <div>
            <div class="fb-name">ProofGuard</div>
            <div class="fb-tag">Detect AI content — fast and free.</div>
          </div>
        </div>
        <div class="foot-grid">
          <div>
            <div class="foot-title">Product</div>
            <a class="foot-link" href="/uploads.html">Uploads</a>
            <a class="foot-link" href="/pricing.html">Pricing</a>
          </div>
          <div>
            <div class="foot-title">Developers</div>
            <a class="foot-link" href="/api.html">API</a>
            <a class="foot-link" href="/plugins.html">Plugins</a>
            <a class="foot-link" href="/docs.html">Docs</a>
          </div>
          <div>
            <div class="foot-title">Company</div>
            <a class="foot-link" href="/docs.html#privacy">Privacy</a>
            <a class="foot-link" href="/docs.html#terms">Terms</a>
            <a class="foot-link" href="/signup.html">Sign up</a>
          </div>
        </div>
        <div class="foot-bar">
          <div>© <span id="yr-blog"></span> ProofGuard</div>
          <div>Made for reliable AI-content checks</div>
        </div>
      </div>
    </footer>
    <script>document.getElementById('yr-blog').textContent = String(new Date().getFullYear());</script>
    <script>
      // Mobile menu
      (function(){
        const btn = document.getElementById('mobile-menu-button');
        const menu = document.getElementById('mobile-menu');
        if(btn && menu){ btn.addEventListener('click',()=>{ const v=menu.hasAttribute('hidden'); if(v) menu.removeAttribute('hidden'); else menu.setAttribute('hidden',''); }); }
      })();
      // Blog listing logic
      const RESULTS = document.getElementById('results');
      const SEARCH = document.getElementById('search');
      const CAT = document.getElementById('category');
      const PREV = document.getElementById('prev');
      const NEXT = document.getElementById('next');
      const PAGE_INFO = document.getElementById('page-info');

      let items = [];
      let filtered = [];
      let page = 1;
      const perPage = 20;

      function render(){
        const start = (page-1)*perPage;
        const slice = filtered.slice(start, start+perPage);
        RESULTS.innerHTML = slice.map(x=>`<article class=\"card\">`
          + `<a href=\"${x.url}\"><img class=\"thumb\" src=\"${x.imageUrl || 'https://picsum.photos/seed/'+encodeURIComponent(x.slug||'pg')+'/1200/630'}\" alt=\"${(x.imageAlt||'Hero image').replace(/\"/g,'&quot;')}\" loading=\"lazy\" decoding=\"async\"/></a>`
          + `<div class=\"body\">`
          + `<div class=\"meta\"><span class=\"chip\">${x.category||'Library'}</span><span class=\"chip\">${(x.readingTime||Math.max(1,Math.ceil((x.wordCount||1200)/230)))} min</span></div>`
          + `<h2><a href=\"${x.url}\" style=\"color:#111827;text-decoration:none\">${x.title}</a></h2>`
          + `<p>${x.excerpt||''}</p>`
          + `</div>`
          + `</article>`).join('');
        const totalPages = Math.max(1, Math.ceil(filtered.length/perPage));
        PAGE_INFO.textContent = `Page ${Math.min(page,totalPages)} of ${totalPages}`;
        PREV.disabled = page<=1;
        NEXT.disabled = page>=totalPages;
      }

      function applyFilter(){
        const q = (SEARCH.value||'').toLowerCase();
        const c = CAT.value||'';
        filtered = items.filter(it=>{
          const inCat = !c || it.category===c;
          const inText = !q || it.title.toLowerCase().includes(q) || (it.excerpt||'').toLowerCase().includes(q);
          return inCat && inText;
        });
        page = 1;
        render();
      }

      PREV.addEventListener('click', ()=>{ if(page>1){ page--; render(); window.scrollTo({top:0,behavior:'smooth'});} });
      NEXT.addEventListener('click', ()=>{ const totalPages=Math.ceil(filtered.length/perPage)||1; if(page<totalPages){ page++; render(); window.scrollTo({top:0,behavior:'smooth'});} });
      SEARCH.addEventListener('input', applyFilter);
      CAT.addEventListener('change', applyFilter);

      // Preload filters from query params
      const params = new URLSearchParams(location.search);
      const q0 = params.get('q') || '';
      const c0 = params.get('category') || '';
      const p0 = parseInt(params.get('page') || '1', 10);
      if (q0) SEARCH.value = q0;
      if (c0) CAT.value = c0;
      if (Number.isFinite(p0) && p0 > 0) page = p0;

      fetch('/seo/manifest.json', {cache:'no-store'})
        .then(r=>r.json())
        .then(data=>{
          // Support both new (array) and old (object with items)
          items = Array.isArray(data) ? data : (data.items||[]);
          // Populate categories from manifest for richer taxonomy
          const cats = Array.from(new Set(items.map(x=>x.category).filter(Boolean))).sort();
          for (const c of cats){
            const opt = document.createElement('option');
            opt.value = c; opt.textContent = c; CAT.appendChild(opt);
          }
          applyFilter();
        })
        .catch(()=>{ RESULTS.innerHTML = '<p class="muted">Unable to load posts right now.</p>'; });

      function updateUrl(){
        const u = new URL(location.href);
        if (SEARCH.value) u.searchParams.set('q', SEARCH.value); else u.searchParams.delete('q');
        if (CAT.value) u.searchParams.set('category', CAT.value); else u.searchParams.delete('category');
        u.searchParams.set('page', String(page));
        history.replaceState(null, '', u.toString());
      }

      const oldRender = render;
      render = function(){ oldRender(); updateUrl(); };
    </script>
    <script src="/site.js" defer></script>
  </body>
  </html>
